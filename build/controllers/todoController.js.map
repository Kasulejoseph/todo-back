{"version":3,"sources":["../../server/controllers/todoController.js"],"names":["todos","models","addTodo","req","res","category","description","dueDate","body","newTodo","data","create","status","send","getOneTodo","todo","getAllTodo","findAll","updateTodo","id","dataToUpdate","updatedTodo","update","where","returning","message","deleteTodo","destroy"],"mappings":";;;;;;;AAAA;;;;;;;;;;;;AACA,MAAM;AAAEA,EAAAA;AAAF,IAAYC,gBAAlB;;AAEO,MAAMC,OAAO,WAAPA,OAAO,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACzC,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,WAAZ;AAAyBC,IAAAA;AAAzB,MAAqCJ,GAAG,CAACK,IAA/C;AACA,QAAMC,OAAO,GAAG;AACdJ,IAAAA,QADc;AAEdC,IAAAA,WAFc;AAGdC,IAAAA;AAHc,GAAhB;AAKA,QAAMG,IAAI,GAAG,MAAMV,KAAK,CAACW,MAAN,CAAaF,OAAb,CAAnB;AACA,SAAOL,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAE,GAAV;AAAeF,IAAAA;AAAf,GAArB,CAAP;AACD,CATM;;AAWA,MAAMI,UAAU,WAAVA,UAAU,GAAG,OAAOX,GAAP,EAAYC,GAAZ,KAAoB;AAC5C,QAAMW,IAAI,GAAGZ,GAAG,CAACY,IAAjB;AACA,SAAOX,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAE,GAAV;AAAeG,IAAAA;AAAf,GAArB,CAAP;AACD,CAHM;;AAKA,MAAMC,UAAU,WAAVA,UAAU,GAAG,OAAOb,GAAP,EAAYC,GAAZ,KAAoB;AAC5C,QAAMM,IAAI,GAAG,MAAMV,KAAK,CAACiB,OAAN,CAAc,EAAd,CAAnB;AACA,SAAOb,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAE,GAAV;AAAeF,IAAAA;AAAf,GAArB,CAAP;AACD,CAHM;;AAKA,MAAMQ,UAAU,WAAVA,UAAU,GAAG,OAAOf,GAAP,EAAYC,GAAZ,KAAoB;AAC5C,QAAM;AAAEe,IAAAA;AAAF,MAAShB,GAAG,CAACY,IAAnB;AACA,QAAMK,YAAY,GAAGjB,GAAG,CAACK,IAAzB;;AACA,QAAMC,OAAO,qBAAQW,YAAR,CAAb;;AACA,QAAM,CAACC,WAAD,IAAgB,MAAMrB,KAAK,CAACsB,MAAN,CAAab,OAAb,EAAsB;AAChDc,IAAAA,KAAK,EAAE;AAAEJ,MAAAA;AAAF,KADyC;AAEhDK,IAAAA,SAAS,EAAE;AAFqC,GAAtB,CAA5B;;AAIA,MAAIH,WAAW,IAAI,CAAnB,EAAsB;AACpB,WAAOjB,GAAG,CACPQ,MADI,CACG,GADH,EAEJC,IAFI,CAEC;AAAED,MAAAA,MAAM,EAAE,GAAV;AAAea,MAAAA,OAAO,EAAE;AAAxB,KAFD,CAAP;AAGD;;AACD,SAAOrB,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAED,IAAAA,MAAM,EAAE,GAAV;AAAea,IAAAA,OAAO,EAAE;AAAxB,GAArB,CAAP;AACD,CAdM;;AAgBA,MAAMC,UAAU,WAAVA,UAAU,GAAG,OAAOvB,GAAP,EAAYC,GAAZ,KAAoB;AAC5C,QAAM;AAAEe,IAAAA;AAAF,MAAShB,GAAG,CAACY,IAAnB;AACA,QAAMf,KAAK,CAAC2B,OAAN,CAAc;AAClBJ,IAAAA,KAAK,EAAE;AAAEJ,MAAAA;AAAF;AADW,GAAd,CAAN;AAGA,SAAOf,GAAG,CACPQ,MADI,CACG,GADH,EAEJC,IAFI,CAEC;AAAED,IAAAA,MAAM,EAAE,GAAV;AAAea,IAAAA,OAAO,EAAE;AAAxB,GAFD,CAAP;AAGD,CARM","sourcesContent":["import models from \"../models\";\nconst { todos } = models;\n\nexport const addTodo = async (req, res) => {\n  const { category, description, dueDate } = req.body;\n  const newTodo = {\n    category,\n    description,\n    dueDate,\n  };\n  const data = await todos.create(newTodo);\n  return res.status(201).send({ status: 201, data });\n};\n\nexport const getOneTodo = async (req, res) => {\n  const todo = req.todo;\n  return res.status(200).send({ status: 200, todo });\n};\n\nexport const getAllTodo = async (req, res) => {\n  const data = await todos.findAll({});\n  return res.status(200).send({ status: 200, data });\n};\n\nexport const updateTodo = async (req, res) => {\n  const { id } = req.todo;\n  const dataToUpdate = req.body;\n  const newTodo = { ...dataToUpdate };\n  const [updatedTodo] = await todos.update(newTodo, {\n    where: { id },\n    returning: true,\n  });\n  if (updatedTodo == 0) {\n    return res\n      .status(400)\n      .send({ status: 400, message: \"No field was updated\" });\n  }\n  return res.status(200).send({ status: 200, message: \"Successfully updated\" });\n};\n\nexport const deleteTodo = async (req, res) => {\n  const { id } = req.todo;\n  await todos.destroy({\n    where: { id },\n  });\n  return res\n    .status(200)\n    .send({ status: 200, message: \"Todo has been successfully deleted\" });\n};\n"],"file":"todoController.js"}